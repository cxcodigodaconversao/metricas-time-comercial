<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de M√©tricas de Vendas</title>
    <style>
        * {
            cursor: none;
        }
        
        body {
            background-color: #0c121c !important;
            color: #ffffff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
        }
        
        .custom-cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            background: linear-gradient(45deg, #d2bc8f, #f4e4bc);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            transition: transform 0.1s ease;
            box-shadow: 0 0 20px rgba(210, 188, 143, 0.5);
        }
        
        .custom-cursor::after {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            width: 40px;
            height: 40px;
            border: 2px solid rgba(210, 188, 143, 0.3);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(0.8); opacity: 1; }
            100% { transform: scale(1.2); opacity: 0; }
        }
        
        .hover-scale {
            transition: transform 0.2s ease;
        }
        
        .hover-scale:hover {
            transform: scale(1.02);
        }
        
        .bg-primary {
            background-color: #0c121c;
        }
        
        .text-accent {
            color: #d2bc8f;
        }
        
        .main-container {
            background: linear-gradient(145deg, #141b2a, #0f1621);
            border: 1px solid rgba(210, 188, 143, 0.3);
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            max-width: 1200px;
            margin: 20px auto;
            padding: 30px;
        }
        
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }
        
        .form-section {
            display: flex;
            flex-direction: column;
        }
        
        .results-section {
            display: flex;
            flex-direction: column;
        }
        
        input {
            background-color: #1a2332 !important;
            border: 2px solid #d2bc8f !important;
            color: #ffffff !important;
            border-radius: 8px;
            padding: 12px;
            transition: all 0.3s ease;
            width: 100%;
            box-sizing: border-box;
            margin-bottom: 20px;
        }
        
        input:focus {
            border-color: #f4e4bc !important;
            box-shadow: 0 0 15px rgba(210, 188, 143, 0.4) !important;
            outline: none;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #d2bc8f, #f4e4bc);
            color: #0c121c;
            font-weight: bold;
            transition: all 0.3s ease;
            border-radius: 12px;
            padding: 14px 32px;
            border: none;
            cursor: none;
            font-size: 18px;
            width: 100%;
            margin-top: 20px;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(210, 188, 143, 0.4);
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip:hover .tooltip-text {
            opacity: 1;
            visibility: visible;
        }
        
        .tooltip-text {
            opacity: 0;
            visibility: hidden;
            position: absolute;
            bottom: 130%;
            left: 50%;
            transform: translateX(-50%);
            background-color: #1a2332;
            color: #ffffff;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 13px;
            border: 1px solid #d2bc8f;
            transition: all 0.3s ease;
            z-index: 1000;
            width: 250px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .result-card {
            background: linear-gradient(145deg, #1a2332, #141b2a);
            border: 2px solid #d2bc8f;
            border-radius: 12px;
            padding: 20px;
            min-height: 400px;
        }
        
        .result-item {
            border-bottom: 1px solid rgba(210, 188, 143, 0.3);
            padding: 12px 0;
            transition: all 0.2s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .result-item:last-child {
            border-bottom: none;
        }
        
        .result-item:hover {
            background-color: rgba(210, 188, 143, 0.1);
            border-radius: 6px;
            padding-left: 8px;
        }
        
        .gradient-text {
            background: linear-gradient(45deg, #d2bc8f, #f4e4bc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: bold;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #d2bc8f;
            font-size: 14px;
        }
        
        .info-icon {
            width: 16px;
            height: 16px;
            margin-left: 6px;
            color: #d2bc8f;
            cursor: none;
            display: inline-block;
        }
        
        .error-message {
            background-color: #dc2626;
            border: 1px solid #ef4444;
            color: #ffffff;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 16px;
            text-align: center;
            font-weight: 500;
            display: none;
        }
        
        .error-message.show {
            display: block;
        }
        
        .success-message {
            background-color: #16a34a;
            border: 1px solid #22c55e;
            color: #ffffff;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 16px;
            text-align: center;
            font-weight: 500;
            display: none;
        }
        
        .success-message.show {
            display: block;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        @media (max-width: 768px) {
            .custom-cursor {
                display: none;
            }
            * {
                cursor: auto;
            }
            .grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            .main-container {
                margin: 10px;
                padding: 20px;
            }
        }
        
        .hidden {
            display: none;
        }

        .calculating {
            opacity: 0.7;
            pointer-events: none;
        }
    </style>
</head>
<body class="bg-primary">
    <div class="custom-cursor" id="cursor"></div>
    
    <div id="app">
        <!-- Header -->
        <div class="header">
            <h1 class="gradient-text">
                Calculadora de M√©tricas de Vendas
            </h1>
            <p style="color: white;">
                Defina os n√∫meros que voc√™ precisa para <span class="text-accent" style="font-weight: bold;">bater a meta de vendas da sua empresa!</span>
            </p>
        </div>
        
        <!-- Main Container -->
        <div class="main-container">
            <div class="grid">
                
                <!-- Form Section - Left Column -->
                <div class="form-section">
                    <form id="metricsForm">
                        
                        <!-- Error Message -->
                        <div id="errorMessage" class="error-message"></div>
                        
                        <!-- Success Message -->
                        <div id="successMessage" class="success-message"></div>
                        
                        <!-- Meta de Faturamento -->
                        <div class="form-group hover-scale">
                            <label class="form-label tooltip">
                                üí∞ Meta de Faturamento (R$)
                                <span class="info-icon">‚ÑπÔ∏è</span>
                                <div class="tooltip-text">
                                    Valor total esperado de faturamento para atingir sua meta mensal
                                </div>
                            </label>
                            <input id="metaFaturamento" 
                                   type="text" 
                                   placeholder="Ex: 100.000,00"
                                   required>
                        </div>
                        
                        <!-- Ticket M√©dio -->
                        <div class="form-group hover-scale">
                            <label class="form-label tooltip">
                                üé´ Ticket M√©dio (R$)
                                <span class="info-icon">‚ÑπÔ∏è</span>
                                <div class="tooltip-text">
                                    Valor m√©dio por venda realizada
                                </div>
                            </label>
                            <input id="ticketMedio" 
                                   type="text" 
                                   placeholder="Ex: 2.500,00"
                                   required>
                        </div>
                        
                        <!-- SDRs Atuais -->
                        <div class="form-group hover-scale">
                            <label class="form-label tooltip">
                                üë• SDRs Atuais
                                <span class="info-icon">‚ÑπÔ∏è</span>
                                <div class="tooltip-text">
                                    Quantidade de SDRs (Sales Development Representatives) na sua equipe. Cada SDR consegue abordar ~450 leads por m√™s.
                                </div>
                            </label>
                            <input id="equipeSdr" 
                                   type="number" 
                                   min="1"
                                   placeholder="Ex: 5"
                                   required>
                        </div>
                        
                        <!-- Closers Atuais -->
                        <div class="form-group hover-scale">
                            <label class="form-label tooltip">
                                üéØ Closers Atuais
                                <span class="info-icon">‚ÑπÔ∏è</span>
                                <div class="tooltip-text">
                                    Quantidade de Closers (respons√°veis por fechar vendas). Cada Closer consegue realizar ~77 reuni√µes por m√™s.
                                </div>
                            </label>
                            <input id="equipeCloser" 
                                   type="number" 
                                   min="1"
                                   placeholder="Ex: 3"
                                   required>
                        </div>
                        
                        <!-- Taxa de Convers√£o -->
                        <div class="form-group hover-scale">
                            <label class="form-label tooltip">
                                üìà Taxa de Convers√£o (%)
                                <span class="info-icon">‚ÑπÔ∏è</span>
                                <div class="tooltip-text">
                                    Percentual de leads que se convertem em vendas
                                </div>
                            </label>
                            <input id="taxaConversao" 
                                   type="number" 
                                   step="0.1"
                                   min="0.1"
                                   max="100"
                                   placeholder="Ex: 15 (15%)"
                                   required>
                        </div>
                        
                        <!-- Taxa de N√£o Comparecimento -->
                        <div class="form-group hover-scale">
                            <label class="form-label tooltip">
                                ‚ùå Taxa de N√£o Comparecimento (%)
                                <span class="info-icon">‚ÑπÔ∏è</span>
                                <div class="tooltip-text">
                                    Percentual de leads que agendam mas n√£o comparecem √†s reuni√µes
                                </div>
                            </label>
                            <input id="taxaNaoComparecimento" 
                                   type="number" 
                                   step="0.1"
                                   min="0"
                                   max="99"
                                   placeholder="Ex: 30 (30%)"
                                   required>
                        </div>
                        
                        <!-- Leads por Agendamento -->
                        <div class="form-group hover-scale">
                            <label class="form-label tooltip">
                                üìû Leads por Agendamento
                                <span class="info-icon">‚ÑπÔ∏è</span>
                                <div class="tooltip-text">
                                    M√©dia de leads necess√°rios para gerar um agendamento
                                </div>
                            </label>
                            <input id="leadsPorAgendamento" 
                                   type="number" 
                                   min="1"
                                   placeholder="Ex: 10 leads"
                                   required>
                        </div>
                        
                        <!-- Button -->
                        <button type="submit" class="btn-primary hover-scale" id="calculateBtn">
                            üöÄ Calcular!
                        </button>
                    </form>
                </div>
                
                <!-- Results Section - Right Column -->
                <div class="results-section">
                    <div class="result-card">
                        <h2 style="font-size: 1.25rem; font-weight: bold; color: #d2bc8f; margin-bottom: 24px; text-align: center;">üìä Resultado (mensal):</h2>
                        
                        <div id="results">
                            <div class="result-item" style="border: 2px solid #d2bc8f; background: rgba(210, 188, 143, 0.1); border-radius: 8px; padding: 16px 20px;">
                                <span style="color: white; font-weight: bold;">üí∞ Faturamento Meta =</span>
                                <span id="metaFaturamentoDisplay" style="color: #f4e4bc; font-weight: bold; font-size: 1.1em;">R$ 0,00</span>
                            </div>
                            <div class="result-item">
                                <span style="color: white; font-weight: 500;">üìä Leads Necess√°rios =</span>
                                <span id="leadsNecessarios" style="color: #d2bc8f; font-weight: bold;">0</span>
                            </div>
                            <div class="result-item">
                                <span style="color: white; font-weight: 500;">üéØ Vendas Necess√°rias =</span>
                                <span id="vendasNecessarias" style="color: #d2bc8f; font-weight: bold;">0</span>
                            </div>
                            <div class="result-item">
                                <span style="color: white; font-weight: 500;">üìÖ Reuni√µes Marcadas =</span>
                                <span id="reunioesAgendadas" style="color: #d2bc8f; font-weight: bold;">0</span>
                            </div>
                            <div class="result-item">
                                <span style="color: white; font-weight: 500;">‚úÖ Reuni√µes Realizadas =</span>
                                <span id="reunioesRealizadas" style="color: #d2bc8f; font-weight: bold;">0</span>
                            </div>
                            <hr style="border: 1px solid rgba(210, 188, 143, 0.3); margin: 20px 0;">
                            <div style="text-align: center; margin: 15px 0;">
                                <h3 style="color: #d2bc8f; font-size: 1rem; margin: 0;">üë• EQUIPE NECESS√ÅRIA:</h3>
                            </div>
                            <div class="result-item">
                                <span style="color: white; font-weight: 500;">üìû SDRs Necess√°rios =</span>
                                <span id="sdrsNecessarios" style="color: #d2bc8f; font-weight: bold;">0</span>
                            </div>
                            <div class="result-item">
                                <span style="color: white; font-weight: 500;">üéØ Closers Necess√°rios =</span>
                                <span id="closersNecessarios" style="color: #d2bc8f; font-weight: bold;">0</span>
                            </div>
                            <div class="result-item">
                                <span style="color: white; font-weight: 500;">üìã Coordenadores Necess√°rios =</span>
                                <span id="coordenadoresNecessarios" style="color: #d2bc8f; font-weight: bold;">0</span>
                            </div>
                            <div class="result-item">
                                <span style="color: white; font-weight: 500;">üëî Gerentes Necess√°rios =</span>
                                <span id="gerentesNecessarios" style="color: #d2bc8f; font-weight: bold;">0</span>
                            </div>
                            <div class="result-item">
                                <span style="color: white; font-weight: 500;">üéñÔ∏è Diretores Necess√°rios =</span>
                                <span id="diretoresNecessarios" style="color: #d2bc8f; font-weight: bold;">0</span>
                            </div>
                            <div class="result-item">
                                <span style="color: white; font-weight: 500;">üèÜ Head de Vendas =</span>
                                <span id="headVendas" style="color: #d2bc8f; font-weight: bold;">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div style="text-align: center; margin-top: 32px; color: white; opacity: 0.75;">
            <p>üíª Calculadora desenvolvida por <strong style="color: #d2bc8f;">Everton Moreira Rodrigues</strong></p>
            <p style="color: #d2bc8f; font-weight: bold;">Transformando dados em resultados! üìà</p>
        </div>
    </div>
    
    <script>
        // Custom cursor functionality
        document.addEventListener('DOMContentLoaded', function() {
            const cursor = document.getElementById('cursor');
            let mouseX = 0, mouseY = 0;
            let cursorX = 0, cursorY = 0;
            
            // Cursor movement
            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
            });
            
            function animateCursor() {
                cursorX += (mouseX - cursorX) * 0.1;
                cursorY += (mouseY - cursorY) * 0.1;
                
                cursor.style.left = cursorX + 'px';
                cursor.style.top = cursorY + 'px';
                
                requestAnimationFrame(animateCursor);
            }
            animateCursor();
            
            // Form functionality
            const form = document.getElementById('metricsForm');
            const errorMessage = document.getElementById('errorMessage');
            const successMessage = document.getElementById('successMessage');
            const calculateBtn = document.getElementById('calculateBtn');
            
            // Form submit event
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                console.log('Formul√°rio submetido!');
                calculateMetrics();
            });
            
            // Button click event (fallback)
            calculateBtn.addEventListener('click', function(e) {
                e.preventDefault();
                console.log('Bot√£o clicado!');
                calculateMetrics();
            });
            
            function showError(message) {
                console.log('Erro:', message);
                hideMessages();
                errorMessage.textContent = message;
                errorMessage.classList.add('show');
                setTimeout(() => {
                    errorMessage.classList.remove('show');
                }, 5000);
            }
            
            function showSuccess(message) {
                console.log('Sucesso:', message);
                hideMessages();
                successMessage.textContent = message;
                successMessage.classList.add('show');
                setTimeout(() => {
                    successMessage.classList.remove('show');
                }, 3000);
            }
            
            function hideMessages() {
                errorMessage.classList.remove('show');
                successMessage.classList.remove('show');
            }
            
            function calculateMetrics() {
                console.log('Iniciando c√°lculos...');
                
                try {
                    hideMessages();
                    
                    // Adicionar efeito visual de carregamento
                    form.classList.add('calculating');
                    calculateBtn.textContent = '‚è≥ Calculando...';
                    calculateBtn.disabled = true;
                    
                    // Get form values - usar getNumericValue para campos monet√°rios
                    const metaFaturamento = getNumericValue(document.getElementById('metaFaturamento').value) || 0;
                    const ticketMedio = getNumericValue(document.getElementById('ticketMedio').value) || 0;
                    const equipeSdr = parseInt(document.getElementById('equipeSdr').value) || 0;
                    const equipeCloser = parseInt(document.getElementById('equipeCloser').value) || 0;
                    const taxaConversao = parseFloat(document.getElementById('taxaConversao').value) || 0;
                    const taxaNaoComparecimento = parseFloat(document.getElementById('taxaNaoComparecimento').value) || 0;
                    const leadsPorAgendamento = parseInt(document.getElementById('leadsPorAgendamento').value) || 0;
                    
                    console.log('Valores capturados:', {
                        metaFaturamento,
                        ticketMedio,
                        equipeSdr,
                        equipeCloser,
                        taxaConversao,
                        taxaNaoComparecimento,
                        leadsPorAgendamento
                    });
                    
                    // Validation
                    if (metaFaturamento <= 0) {
                        throw new Error('A meta de faturamento deve ser maior que zero.');
                    }
                    
                    if (ticketMedio <= 0) {
                        throw new Error('O ticket m√©dio deve ser maior que zero.');
                    }
                    
                    if (equipeSdr <= 0) {
                        throw new Error('O n√∫mero de SDRs deve ser maior que zero.');
                    }
                    
                    if (equipeCloser <= 0) {
                        throw new Error('O n√∫mero de Closers deve ser maior que zero.');
                    }
                    
                    if (taxaConversao <= 0 || taxaConversao > 100) {
                        throw new Error('A taxa de convers√£o deve estar entre 0.1% e 100%.');
                    }
                    
                    if (taxaNaoComparecimento < 0 || taxaNaoComparecimento >= 100) {
                        throw new Error('A taxa de n√£o comparecimento deve estar entre 0% e 99%.');
                    }
                    
                    if (leadsPorAgendamento <= 0) {
                        throw new Error('O n√∫mero de leads por agendamento deve ser maior que zero.');
                    }
                    
                    console.log('Valida√ß√£o passou, iniciando c√°lculos...');
                    
                    // Simular um pequeno delay para mostrar o efeito de carregamento
                    setTimeout(() => {
                        // C√ÅLCULOS PRINCIPAIS (AJUSTADOS CONFORME PRINT):
                        
                        // 1. VENDAS NECESS√ÅRIAS = Meta Faturamento √∑ Ticket M√©dio
                        // Usando Math.floor para coincidir com o print (333, n√£o 334)
                        const vendasNecessarias = Math.floor(metaFaturamento / ticketMedio);
                        
                        // 2. REUNI√ïES REALIZADAS = Vendas Necess√°rias √∑ (Taxa Convers√£o √∑ 100)
                        const reunioesRealizadas = Math.ceil(vendasNecessarias / (taxaConversao / 100));
                        
                        // 3. REUNI√ïES AGENDADAS = Reuni√µes Realizadas √∑ (1 - Taxa N√£o Comparecimento √∑ 100)
                        const taxaComparecimento = 1 - (taxaNaoComparecimento / 100);
                        const reunioesAgendadas = Math.ceil(reunioesRealizadas / taxaComparecimento);
                        
                        // 4. LEADS NECESS√ÅRIOS = Reuni√µes Agendadas √ó Leads por Agendamento
                        const leadsNecessarios = reunioesAgendadas * leadsPorAgendamento;
                        
                        // 5. ESTRUTURA DE EQUIPE (PRODUTIVIDADES AJUSTADAS CONFORME NOVO PRINT):
                        // Closers: Baseado no print atual - 1.000 reuni√µes = 13 closers ‚Üí ~77 reuni√µes por closer
                        const closersNecessarios = Math.ceil(reunioesRealizadas / 77);
                        
                        // SDRs: Ajustado para 450 leads por SDR
                        const sdrsNecessarios = Math.ceil(leadsNecessarios / 450);
                        
                        // ESTRUTURA HIER√ÅRQUICA (NOVA L√ìGICA COMPLETA):
                        // Coordenadores: 1 para cada 5 pessoas (closers + SDRs somados)
                        const totalPessoas = closersNecessarios + sdrsNecessarios;
                        const coordenadoresNecessarios = totalPessoas >= 5 ? Math.ceil(totalPessoas / 5) : 0;
                        
                        // Gerentes: 1 para cada 2 coordenadores
                        const gerentesNecessarios = coordenadoresNecessarios >= 2 ? Math.ceil(coordenadoresNecessarios / 2) : 0;
                        
                        // Diretores: 1 para cada 4 gerentes
                        const diretoresNecessarios = gerentesNecessarios >= 4 ? Math.ceil(gerentesNecessarios / 4) : 0;
                        
                        // Head de Vendas: 1 para cada 2 diretores
                        const headVendas = diretoresNecessarios >= 2 ? Math.ceil(diretoresNecessarios / 2) : 0;
                        
                        console.log('=== DETALHAMENTO DOS C√ÅLCULOS (AJUSTADO) ===');
                        console.log('1. Vendas Necess√°rias:', metaFaturamento.toLocaleString('pt-BR', {style: 'currency', currency: 'BRL'}), '√∑', ticketMedio.toLocaleString('pt-BR', {style: 'currency', currency: 'BRL'}), '=', (metaFaturamento/ticketMedio).toLocaleString('pt-BR', {maximumFractionDigits: 2}), '‚Üí', vendasNecessarias.toLocaleString('pt-BR'), '(usando Math.floor)');
                        console.log('2. Reuni√µes Realizadas:', vendasNecessarias.toLocaleString('pt-BR'), '√∑', (taxaConversao/100).toLocaleString('pt-BR', {style: 'percent'}), '=', (vendasNecessarias/(taxaConversao/100)).toLocaleString('pt-BR', {maximumFractionDigits: 2}), '‚Üí', reunioesRealizadas.toLocaleString('pt-BR'));
                        console.log('3. Reuni√µes Agendadas:', reunioesRealizadas.toLocaleString('pt-BR'), '√∑', taxaComparecimento.toLocaleString('pt-BR', {style: 'percent'}), '=', (reunioesRealizadas/taxaComparecimento).toLocaleString('pt-BR', {maximumFractionDigits: 2}), '‚Üí', reunioesAgendadas.toLocaleString('pt-BR'));
                        console.log('4. Leads Necess√°rios:', reunioesAgendadas.toLocaleString('pt-BR'), '√ó', leadsPorAgendamento.toLocaleString('pt-BR'), '=', leadsNecessarios.toLocaleString('pt-BR'));
                        console.log('5. Closers Necess√°rios:', reunioesRealizadas.toLocaleString('pt-BR'), '√∑ 77 =', (reunioesRealizadas/77).toLocaleString('pt-BR', {maximumFractionDigits: 2}), '‚Üí', closersNecessarios.toLocaleString('pt-BR'), '(77 reuni√µes/closer)');
                        console.log('6. SDRs Necess√°rios:', leadsNecessarios.toLocaleString('pt-BR'), '√∑ 450 =', (leadsNecessarios/450).toLocaleString('pt-BR', {maximumFractionDigits: 2}), '‚Üí', sdrsNecessarios.toLocaleString('pt-BR'), '(450 leads/SDR)');
                        console.log('7. Total de Pessoas:', closersNecessarios.toLocaleString('pt-BR'), 'closers +', sdrsNecessarios.toLocaleString('pt-BR'), 'SDRs =', totalPessoas.toLocaleString('pt-BR'), 'pessoas');
                        console.log('8. Coordenadores Necess√°rios:', totalPessoas.toLocaleString('pt-BR'), '√∑ 5 =', (totalPessoas/5).toLocaleString('pt-BR', {maximumFractionDigits: 2}), '‚Üí', coordenadoresNecessarios.toLocaleString('pt-BR'), '(5 pessoas/coordenador)');
                        console.log('9. Gerentes Necess√°rios:', coordenadoresNecessarios.toLocaleString('pt-BR'), '√∑ 2 =', (coordenadoresNecessarios/2).toLocaleString('pt-BR', {maximumFractionDigits: 2}), '‚Üí', gerentesNecessarios.toLocaleString('pt-BR'), '(2 coordenadores/gerente)');
                        console.log('10. Diretores Necess√°rios:', gerentesNecessarios.toLocaleString('pt-BR'), '√∑ 4 =', (gerentesNecessarios/4).toLocaleString('pt-BR', {maximumFractionDigits: 2}), '‚Üí', diretoresNecessarios.toLocaleString('pt-BR'), '(4 gerentes/diretor)');
                        console.log('11. Head de Vendas:', diretoresNecessarios.toLocaleString('pt-BR'), '√∑ 2 =', (diretoresNecessarios/2).toLocaleString('pt-BR', {maximumFractionDigits: 2}), '‚Üí', headVendas.toLocaleString('pt-BR'), '(2 diretores/head)');
                        
                        console.log('Resultados finais:', {
                            leadsNecessarios,
                            vendasNecessarias,
                            reunioesAgendadas,
                            reunioesRealizadas,
                            closersNecessarios,
                            sdrsNecessarios,
                            gerentesNecessarios,
                            headVendas,
                            coordenadoresNecessarios,
                            diretoresNecessarios
                        });
                        
                        // Update results with animation
                        const metaElement = document.getElementById('metaFaturamentoDisplay');
                        if (metaElement) {
                            metaElement.style.transform = 'scale(1.15)';
                            metaElement.style.transition = 'all 0.5s ease';
                            metaElement.textContent = formatCurrency(metaFaturamento);
                            setTimeout(() => {
                                metaElement.style.transform = 'scale(1)';
                            }, 500);
                        }
                        
                        updateResultWithAnimation('leadsNecessarios', leadsNecessarios);
                        updateResultWithAnimation('vendasNecessarias', vendasNecessarias);
                        updateResultWithAnimation('reunioesAgendadas', reunioesAgendadas);
                        updateResultWithAnimation('reunioesRealizadas', reunioesRealizadas);
                        updateResultWithAnimation('closersNecessarios', closersNecessarios);
                        updateResultWithAnimation('sdrsNecessarios', sdrsNecessarios);
                        updateResultWithAnimation('gerentesNecessarios', gerentesNecessarios);
                        updateResultWithAnimation('headVendas', headVendas);
                        updateResultWithAnimation('coordenadoresNecessarios', coordenadoresNecessarios);
                        updateResultWithAnimation('diretoresNecessarios', diretoresNecessarios);
                        
                        // Reset form state
                        form.classList.remove('calculating');
                        calculateBtn.textContent = 'üöÄ Calcular!';
                        calculateBtn.disabled = false;
                        
                        // Show success message
                        showSuccess('‚úÖ C√°lculos realizados com sucesso!');
                        
                        console.log('C√°lculos finalizados!');
                    }, 500);
                    
                } catch (error) {
                    console.error('Erro durante os c√°lculos:', error);
                    showError(error.message);
                    
                    // Reset form state
                    form.classList.remove('calculating');
                    calculateBtn.textContent = 'üöÄ Calcular!';
                    calculateBtn.disabled = false;
                }
            }
            
            // Formata√ß√£o em tempo real para campos monet√°rios
            function formatCurrencyInput(value) {
                // Remove tudo que n√£o √© n√∫mero
                let numbers = value.replace(/\D/g, '');
                
                // Se vazio, retorna vazio
                if (!numbers) return '';
                
                // Converte para n√∫mero e divide por 100 para considerar centavos
                let amount = parseInt(numbers) / 100;
                
                // Formata no padr√£o brasileiro
                return amount.toLocaleString('pt-BR', {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                });
            }
            
            function getNumericValue(formattedValue) {
                // Remove formata√ß√£o e retorna n√∫mero puro
                return parseFloat(formattedValue.replace(/\./g, '').replace(',', '.')) || 0;
            }
            
            // Adiciona formata√ß√£o aos campos monet√°rios
            const metaFaturamentoInput = document.getElementById('metaFaturamento');
            const ticketMedioInput = document.getElementById('ticketMedio');
            
            function setupCurrencyInput(input) {
                input.addEventListener('input', function(e) {
                    let cursorPos = e.target.selectionStart;
                    let oldValue = e.target.value;
                    let newValue = formatCurrencyInput(oldValue);
                    
                    e.target.value = newValue;
                    
                    // Manter cursor na posi√ß√£o aproximada
                    let newCursorPos = cursorPos + (newValue.length - oldValue.length);
                    e.target.setSelectionRange(newCursorPos, newCursorPos);
                });
                
                input.addEventListener('focus', function(e) {
                    // Quando focar, se estiver vazio, n√£o fazer nada
                    // Se tiver valor, manter formatado
                });
                
                input.addEventListener('paste', function(e) {
                    e.preventDefault();
                    let pastedData = e.clipboardData.getData('text');
                    let numericValue = pastedData.replace(/\D/g, '');
                    if (numericValue) {
                        e.target.value = formatCurrencyInput(numericValue);
                    }
                });
            }
            
            setupCurrencyInput(metaFaturamentoInput);
            setupCurrencyInput(ticketMedioInput);
            
            function formatCurrency(value) {
                return value.toLocaleString('pt-BR', {
                    style: 'currency',
                    currency: 'BRL'
                });
            }
            
            function formatNumber(value) {
                if (value % 1 === 0) {
                    // Integer number - no decimals
                    return value.toLocaleString('pt-BR');
                } else {
                    // Decimal number - with 2 decimal places
                    return value.toLocaleString('pt-BR', {
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    });
                }
            }
            
            function updateResultWithAnimation(elementId, value) {
                const element = document.getElementById(elementId);
                if (element) {
                    // Add highlight effect
                    element.style.transform = 'scale(1.1)';
                    element.style.transition = 'transform 0.3s ease';
                    
                    // Update value with Brazilian formatting
                    element.textContent = formatNumber(value);
                    
                    // Remove highlight after animation
                    setTimeout(() => {
                        element.style.transform = 'scale(1)';
                    }, 300);
                }
            }
            
            // Add input event listeners for real-time validation
            const inputs = form.querySelectorAll('input[required]');
            inputs.forEach(input => {
                input.addEventListener('input', function() {
                    hideMessages();
                });
            });
            
            console.log('Script inicializado com sucesso!');
        });
    </script>
</body>
</html>
